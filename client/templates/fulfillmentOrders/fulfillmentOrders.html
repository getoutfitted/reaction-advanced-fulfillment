<template name="fulfillmentOrders">
{{> afNavbar}}
  <div class='container'>
    <h1>Orders Waiting to Be {{routeStatus}}</h1>
  </div>
    {{#each orders}}
      {{> fulfillmentOrder}}
    {{/each}}
</template>

<template name='fulfillmentOrder'>
  <br /><br />
  <a href="{{pathFor 'orderDetails' _id=this._id}}">
    <div>
      <div class="row orderBox">
        <div class='col-sm-6'>
          <h3><strong>{{orderNumber}}</strong></h3>
        </div>
        <div class='col-sm-6'>
          {{#if toBeShipped}}
            <h4>Date Shipping: <strong>{{shippingDate}} </strong></h4>
          {{else}}
            <h4>Date Returning: <strong>{{returningDate}} </strong></h4>
          {{/if}}
        </div>
      </div>
      <div class="row">
        <div class='col-sm-6 {{status}}'>
          Current Status: <strong class='{{status}}'>{{status}}</strong><br />
          Assigned User: {{currentlyAssignedUser}}
        </div>
        <div class='col-sm-6'>
          OrderId: {{_id}}<br />
          Contact Info: {{contactInfo}} | {{phoneNumber}}
        </div>
      </div>
      <!-- <div class='row'>
        <div class='col-sm-6'>
          Number of  Different Items in Order {{uniqueItemsCount}}
        </div>
        <div class='col-sm-6'>
          Number of a-la-carte Items in Order {{totalItemsCount}}
        </div>
      </div> -->
      {{#if readyForAssignment}}
        <div class="row">
          <div class='col-xs-12 col-sm-6'>
            <a class='btn btn-block btn-default advanceOrder' data-status='{{status}}' href='#'>Add to my {{nextStatus}} queue and go</a>
          </div>
          <div class='col-xs-12 col-sm-6'>
            <a class='btn btn-block btn-success selfAssignOrder' data-status='{{status}}' href='#'>Add to my {{nextStatus}} queue</a>
          </div>
        </div>
      {{else}}
        <!-- <div class='row text-center'>
          <p class='bg-success'> {{status}} assigned to: <strong>{{currentlyAssignedUser}}</strong> at {{currentlyAssignedTime}}</p>
        </div> -->
        <div class='col-xs-12'>
          {{#if isMyOrder}}
            <button class='btn btn-block btn-info viewOrder' data-status='{{status}}'>Work on Order</button>
          {{else}}
            <button class='btn btn-block btn-default viewOrder' data-status='{{status}}'>View Order</button>
          {{/if}}
        </div>
      {{/if}}
      <hr>
    </div>
  </a>
</template>
