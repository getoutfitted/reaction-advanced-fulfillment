<template name='itemDetails'>
  <div class='itemDetails container-fluid'>
    <div class='row'>
      <div class='row' id='confirm-packed'>
        {{#if allPacked}}
          <a class='btn btn-danger btn-lg btn-block' id="showConfirmationPacked">All of the items listed belowe are present</a>
          {{#if showConfirmationPacked this._id}}
            <div id="confirmPacked">
              <div class="well">
                <div class='text-center'>
                  <h4><strong>I, ({{userName}}) take responsibility that this order #{{this.shopifyOrderNumber}} is accurately picked with correct items, sizes and colors.</strong></h4>
                </div>
                <div>
                  <a class='btn btn-success btn-block' id='packed-items-verified' href="#">CONFIRM</a>
                </div>
              </div>
            </div>
          {{/if}}
        {{/if}}
      </div>
      <h1>Items in this Order:</h1>
      <div class='table-responsive'>
        <table class='table table-hover'>
          <thead>
            <tr>
              <th></th>
              <th>
                {{#if actionNeeded}}
                  Action
                {{/if}}
              </th>
              <th>Location</th>
              <th>Description</th>
              <th>Color</th>
              <th>Size</th>
              <th>Status</th>
              <th>SKU</th>
              <th>QTY</th>
            </tr>
          </thead>
          <tbody >
            {{#each item in items}}
              <tr>
                <td>
<!--                   {{#if uidVerificationEnabled item}}
                    <input type='text' class='verify' name='text' data-item-id='{{item._id}}' placeholder='SKU or Variant ID'>
                  {{/if}} -->
                  {{#if returningItems item}}
                    <a class='btn btn-danger btn-sm missing-button' data-item-id='{{item._id}}' data-item-status='{{item.workflow.status}}' data-item-description='{{item.itemDescription}}' href="#">Missing</a>
                  {{/if}}
                  {{#if inspectingItems item}}
                    <a class='btn btn-danger btn-sm damaged-button' data-item-id='{{item._id}}' data-item-status='{{item.workflow.status}}' data-item-description='{{item.itemDescription}}' href="#">Damaged</a>
                  {{/if}}
                  {{#if missing item}}
                    <a class='btn btn-info btn-sm returned-button' data-item-id='{{item._id}}' data-item-status='{{item.workflow.status}}' data-item-description='{{item.itemDescription}}' href="#">Item Returned</a>
                  {{/if}}
                  {{#if damaged item}}
                    <a class='btn btn-success btn-sm repaired-button itemStatusCheck' data-item-id='{{item._id}}' data-item-status='{{item.workflow.status}}' data-item-description='{{item.itemDescription}}' href="#">Item Repaired</a>
                  {{/if}}
                </td>
                <td>
                  {{#if allowedToUpdateItem item}}
                    {{#if itemUpdateable item }}
                      <a class='btn  btn-sm btn-success  item-picked {{incompleteValidate item.workflow.status}} {{finalClass item.workflow.status}}'  data-item-status='{{item.workflow.status}}'  data-item-id='{{item._id}}' href='#'>{{nextItemStatus item.workflow.status}}</a>
                    {{else}}
                      <p>{{uidVerified item}}</p>
                 {{/if}}
                  {{else}}
                    <p>{{item.workflow.status}}</p>
                  {{/if}}
                </td>
                <td>{{location item}}</td>
                <td>{{item.itemDescription}}</td>
                <td>{{color item}}</td>
                <td>{{size item}}</td>
                <td>{{item.workflow.status}}</td>
                <td>{{SKU item}}</td>
                <td>{{item.quantity}}</td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</template>

<template name='defaultStatus'>
  <div class='itemDetails container-fluid'>
    <h1>Items in this Order:</h1>
    <div class='table-responsive'>
      <table class='table table-hover'>
        <thead>
          <tr>
            <th>Location</th>
            <th>Description</th>
            <th>Color</th>
            <th>Size</th>
            <th>Status</th>
            <th>SKU</th>
            <th>QTY</th>
          </tr>
        </thead>
        <tbody >
          {{#each item in items}}
            <tr>
              <td>{{location item}}</td>
              <td>{{item.itemDescription}}</td>
              <td>{{color item}}</td>
              <td>{{size item}}</td>
              <td>{{item.workflow.status}}</td>
              <td>{{SKU item}}</td>
              <td>{{item.quantity}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</template>

<template name='orderPicking'>
  <div class='itemDetails container-fluid'>
    <h1>Items in this Order:</h1>
    <div class='table-responsive'>
      <table class='table table-hover'>
        <thead>
          <tr>
            <th>Pick Item</th>
            <th>Location</th>
            <th>Description</th>
            <th>Color</th>
            <th>Size</th>
            <th>Status</th>
            <th>SKU</th>
            <th>QTY</th>
          </tr>
        </thead>
        <tbody >
          {{#each item in items}}
            <tr>
              <td>
                {{#if unpicked item._id}}
                  <a class='btn  btn-lg btn-success  picked '  data-item-id='{{item._id}}' href='#'>Pick Item</a>
                {{/if}}
              </td>
              <td>{{location item}}</td>
              <td>{{item.itemDescription}}</td>
              <td>{{color item}}</td>
              <td>{{size item}}</td>
              <td>{{item.workflow.status}}</td>
              <td>{{SKU item}}</td>
              <td>{{item.quantity}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
    <div>
      <a class='btn btn-success btn-lg btn-block' id='all-items-picked' href="#">ALL Items Are Picked</a>
    </div>
  </div>
</template>

